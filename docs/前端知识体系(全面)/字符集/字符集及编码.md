## 常见字符集
ASCII、GBK、UTF-8、编码方案、乱码问题等

如何把字符存储进计算机。

美国人需要存储的字符：英文字母(大小写)、数字、标点符号、特殊字符

字符是不能直接存入计算机的。因此我们需要将这些字符挨个从0开始到127进行编号，总共128个字符。这就是标识ASCII字符集。然后再将0到127转换成对应的二进制数字。0到127就称为码点，对应的二进制就是编码。

![image](../../../imgs/b_02.jpg)

当然，0到127编码成二进制还不到8位，计算机底层最少都要存储一个字节，即8位。因此，我们还需要在这些二进制前面补0，让它正好是8位一个字节的形式存储。

因此，ASCII字符集实际上是使用1个字节存储字符。

### 标准ASCII字符集
ASCII(American Standard Code for Information Interchange)：美国信息交换标准代码，包括了英文、符号等。

标准ASCII字符集使用1个字节存储一个字符，首位是0，总共可表示128个字符，对美国佬来说完全够用

### GBK
汉字内码扩展规范，国标。是一种汉字编码字符集，包含了2万多个汉字等字符，GBK中一个中文字符编码成两个字节的形式存储。

注意：GBK兼容了ASCII字符集。也就是GBK中0到127这128个码点需要和ASCII字符集的码点对应。因此，在GBK中，英文和数字占1个字节，中文占2个字节。

对于字符串“我a你”，用GBK的方式存入计算机，编码后的形式如下：

![image](../../../imgs/b_03.jpg)


前两个字节表示“我“，中间一个字节表示”a“，后面两个字节表示“你”。当我们编码后存入计算机，如果读取，又是怎么知道前面2个字节表示“2我”，中间1个字节表示“a”？这就需要从GBK的编码规范说起，GBK规定，汉字的第一个字节的第一位必须是1，如下所示：

![image](../../../imgs/b_04.jpg)

在解码时，计算机还是会一个一个字节读取，读取第一个字节时，发现第一个字节的第一位是1，那么计算机会连着读取后面一个字节，作为一个整体读取。读取到中间的字节时，发现是0开头，就认为是ASCII字符集，只需要读一个字节。读取到第四个字节时，发现第一位是1，那么就将第4和第5个字节作为整体读取。


## 待整理
【注意】假如文件名有中文的话，那这里存放UTF-8编码数据，中文一般先转换为Unicode编码字符，然后用UTF-8编码方式存储(Unicode只是一个符号集，它只规定了符号的二进制代码，却没有规定这个二进制代码应该如何存储, UTF-8是unicode的一种实现方式，unicode实现方式还有UTF-16和UTF-32)

【UTF-8小知识】UTF-8最大的一个特点，就是它是一种变长的编码方式。它可以使用1~4个字节表示一个符号，根据不同的符号而变化字节长度。 UTF-8的编码规则很简单，只有2条：

1️⃣对于单字节的符号，字节的第1位（字节的最高位）设为0，后面7位为这个符号的unicode码。因此对于英语字母，UTF-8编码和ASCII码是相同的。

 2️⃣对于n字节的符号（n>1），第1个字节的前n位都设为1，第n+1位设为0，后面字节的前两位一律设为10。剩下的没有提及的二进制位，全部为这个符号的unicode码 比如：已知“严”的unicode是4E25（100111000100101），根据上表，可以发现4E25处在第3行的范围内（0000 0800-0000 FFFF），因此“严”的UTF-8编码需要3个字节，即格式是“1110xxxx 10xxxxxx 10xxxxxx”。然后，从“严”的最后1个二进制位开始，依次从后向前填入格式中的x，多出的位补0。这样就得到了“严”的UTF-8编码是“11100100 10111000 10100101”，转换成十六进制就是E4B8A5